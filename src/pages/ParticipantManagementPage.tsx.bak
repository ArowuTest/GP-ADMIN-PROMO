// src/pages/ParticipantManagementPage.tsx
import React from 'react';
import { Tabs } from 'antd';
import { UploadOutlined, UnorderedListOutlined, BarChartOutlined } from '@ant-design/icons';
import ParticipantUploadComponent from '../components/ParticipantManagement/ParticipantUploadComponent';
import ParticipantListComponent from '../components/ParticipantManagement/ParticipantListComponent';
import ParticipantStatsComponent from '../components/ParticipantManagement/ParticipantStatsComponent';
import { usePermission } from '../hooks/usePermission';
import './ParticipantManagementPage.css';

const { TabPane } = Tabs;

/**
 * Participant Management Page Component
 */
const ParticipantManagementPage: React.FC = () => {
  const { canUploadParticipants } = usePermission();
  
  return (
    <div className="participant-management-page">
      <Tabs defaultActiveKey="upload" className="participant-tabs">
        {canUploadParticipants() && (
          <TabPane 
            tab={
              <span>
                <UploadOutlined />
                Upload Participants
              </span>
            } 
            key="upload"
          >
            <ParticipantUploadComponent />
          </TabPane>
        )}
        <TabPane 
          tab={
            <span>
              <UnorderedListOutlined />
              Participant List
            </span>
          } 
          key="list"
        >
          <ParticipantListComponent />
        </TabPane>
        <TabPane 
          tab={
            <span>
              <BarChartOutlined />
              Statistics
            </span>
          } 
          key="stats"
        >
          <ParticipantStatsComponent />
        </TabPane>
      </Tabs>
    </div>
  );
};

export default ParticipantManagementPage;
